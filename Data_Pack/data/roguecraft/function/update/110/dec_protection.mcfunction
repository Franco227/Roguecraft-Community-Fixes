execute if score @s protection matches 5 run scoreboard players remove @s shops_completed 1
execute if score @s protection matches 5.. run scoreboard players add @s skillpoints 7
execute if score @s protection matches 5.. run scoreboard players remove @s protection 1
execute if score @s protection matches 4 run scoreboard players add @s shops_completed 1