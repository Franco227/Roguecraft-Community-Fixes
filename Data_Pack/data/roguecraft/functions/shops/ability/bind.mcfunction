#no error
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":2}}} unless score @s ability_1 matches $(id) run playsound minecraft:item.trident.thunder master @s ~ ~ ~ 0.5 2
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":3}}} unless score @s ability_2 matches $(id) run playsound minecraft:item.trident.thunder master @s ~ ~ ~ 0.3 2
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":4}}} unless score @s ability_3 matches $(id) run playsound minecraft:item.trident.thunder master @s ~ ~ ~ 0.3 2
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":5}}} unless score @s ability_4 matches $(id) run playsound minecraft:item.trident.thunder master @s ~ ~ ~ 0.3 2

$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":2}}} unless score @s ability_1 matches $(id) run particle minecraft:crit ~ ~0.5 ~ 0.1 0.1 0.1 1 30
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":3}}} unless score @s ability_2 matches $(id) run particle minecraft:crit ~ ~0.5 ~ 0.1 0.1 0.1 1 30
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":4}}} unless score @s ability_3 matches $(id) run particle minecraft:crit ~ ~0.5 ~ 0.1 0.1 0.1 1 30
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":5}}} unless score @s ability_4 matches $(id) run particle minecraft:crit ~ ~0.5 ~ 0.1 0.1 0.1 1 30

$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":2}}} unless score @s ability_1 matches $(id) run tellraw @s {"translate":"roguecraft.chat_messages.ability_equip","italic":true,"color":"green","with":[{"translate":"roguecraft.ability.name.$(upgrade)"},{"translate":"roguecraft.chat_messages.ability_equip_a1"},{"translate":"roguecraft.chat_messages.ability"}]}
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":3}}} unless score @s ability_2 matches $(id) run tellraw @s {"translate":"roguecraft.chat_messages.ability_equip","italic":true,"color":"green","with":[{"translate":"roguecraft.ability.name.$(upgrade)"},{"translate":"roguecraft.chat_messages.ability_equip_a2"},{"translate":"roguecraft.chat_messages.ability"}]}
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":4}}} unless score @s ability_3 matches $(id) run tellraw @s {"translate":"roguecraft.chat_messages.ability_equip","italic":true,"color":"green","with":[{"translate":"roguecraft.ability.name.$(upgrade)"},{"translate":"roguecraft.chat_messages.ability_equip_a3"},{"translate":"roguecraft.chat_messages.ability"}]}
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":5}}} unless score @s ability_4 matches $(id) run tellraw @s {"translate":"roguecraft.chat_messages.ability_equip","italic":true,"color":"green","with":[{"translate":"roguecraft.ability.name.$(upgrade)"},{"translate":"roguecraft.chat_messages.ability_equip_a4"},{"translate":"roguecraft.chat_messages.ability"}]}

#already bound error
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":2}}} if score @s ability_1 matches $(id) run playsound minecraft:block.note_block.didgeridoo master @s ~ ~ ~ 1 0.5
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":3}}} if score @s ability_2 matches $(id) run playsound minecraft:block.note_block.didgeridoo master @s ~ ~ ~ 1 0.5
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":4}}} if score @s ability_3 matches $(id) run playsound minecraft:block.note_block.didgeridoo master @s ~ ~ ~ 1 0.5
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":5}}} if score @s ability_4 matches $(id) run playsound minecraft:block.note_block.didgeridoo master @s ~ ~ ~ 1 0.5

$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":2}}} if score @s ability_1 matches $(id) run tellraw @s {"translate":"roguecraft.chat_messages.ability_equip_error","italic":true,"color":"green","with":[{"translate":"roguecraft.ability.name.$(upgrade)"},{"translate":"roguecraft.chat_messages.ability_equip_a1"},{"translate":"roguecraft.chat_messages.ability"}]}
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":3}}} if score @s ability_2 matches $(id) run tellraw @s {"translate":"roguecraft.chat_messages.ability_equip_error","italic":true,"color":"green","with":[{"translate":"roguecraft.ability.name.$(upgrade)"},{"translate":"roguecraft.chat_messages.ability_equip_a2"},{"translate":"roguecraft.chat_messages.ability"}]}
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":4}}} if score @s ability_3 matches $(id) run tellraw @s {"translate":"roguecraft.chat_messages.ability_equip_error","italic":true,"color":"green","with":[{"translate":"roguecraft.ability.name.$(upgrade)"},{"translate":"roguecraft.chat_messages.ability_equip_a3"},{"translate":"roguecraft.chat_messages.ability"}]}
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":5}}} if score @s ability_4 matches $(id) run tellraw @s {"translate":"roguecraft.chat_messages.ability_equip_error","italic":true,"color":"green","with":[{"translate":"roguecraft.ability.name.$(upgrade)"},{"translate":"roguecraft.chat_messages.ability_equip_a4"},{"translate":"roguecraft.chat_messages.ability"}]}

#not unlocked error
$execute if score @s $(upgrade) matches 0 run playsound minecraft:block.note_block.didgeridoo master @s ~ ~ ~ 1 0.5
$execute if score @s $(upgrade) matches 0 run tellraw @s {"translate":"roguecraft.chat_messages.ability_error_item","italic":true,"color":"red","with":[{"translate":"roguecraft.ability.name.$(upgrade)"}]}

#set scoreboard
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":2}}} run scoreboard players set @s ability_1 $(id)
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":3}}} run scoreboard players set @s ability_2 $(id)
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":4}}} run scoreboard players set @s ability_3 $(id)
$execute unless score @s $(upgrade) matches 0 run execute if data entity @s {SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":5}}} run scoreboard players set @s ability_4 $(id)

#change hand item
$execute unless score @s $(upgrade) matches 0 run item replace entity @s[nbt={SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":2}}}] weapon.mainhand with minecraft:warped_fungus_on_a_stick[minecraft:unbreakable={},minecraft:custom_model_data=2,minecraft:custom_name=' "$(name)" ',minecraft:enchantment_glint_override=true]
$execute unless score @s $(upgrade) matches 0 run item replace entity @s[nbt={SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":3}}}] weapon.mainhand with minecraft:warped_fungus_on_a_stick[minecraft:unbreakable={},minecraft:custom_model_data=3,minecraft:custom_name=' "$(name)" ',minecraft:enchantment_glint_override=true]
$execute unless score @s $(upgrade) matches 0 run item replace entity @s[nbt={SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":4}}}] weapon.mainhand with minecraft:warped_fungus_on_a_stick[minecraft:unbreakable={},minecraft:custom_model_data=4,minecraft:custom_name=' "$(name)" ',minecraft:enchantment_glint_override=true]
$execute unless score @s $(upgrade) matches 0 run item replace entity @s[nbt={SelectedItem:{id:"minecraft:warped_fungus_on_a_stick",components:{"minecraft:custom_model_data":5}}}] weapon.mainhand with minecraft:warped_fungus_on_a_stick[minecraft:unbreakable={},minecraft:custom_model_data=5,minecraft:custom_name=' "$(name)" ',minecraft:enchantment_glint_override=true]